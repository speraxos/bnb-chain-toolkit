# ğŸŒ Internationalization (i18n) Guide

Free Crypto News supports **100+ languages** with full UI translations, API response translation, real-time content translation, and localized documentation.

---

## ğŸŒ Language Coverage

### Total Languages: 100+

We support the widest language coverage of any crypto news aggregator, covering:

- **7 RTL languages**: Arabic, Persian/Farsi, Hebrew, Kurdish, Pashto, Urdu, Yiddish
- **15 Regional groupings**: Europe, Asia, Middle East, Africa, Americas, South Asia, Southeast Asia, Pacific & Oceania, Central Asia, Caribbean, Nordic, Baltics, Balkans, Caucasus
- **Native script display**: All languages displayed in their native writing systems

### Core Languages (Top 20 by Users)

| Code | Language | Native Name | Direction | Status |
|------|----------|-------------|-----------|--------|
| `en` | English | English | LTR | âœ… Complete |
| `es` | Spanish | EspaÃ±ol | LTR | âœ… Complete |
| `zh-CN` | Chinese (Simplified) | ç®€ä½“ä¸­æ–‡ | LTR | âœ… Complete |
| `zh-TW` | Chinese (Traditional) | ç¹é«”ä¸­æ–‡ | LTR | âœ… Complete |
| `hi` | Hindi | à¤¹à¤¿à¤¨à¥à¤¦à¥€ | LTR | âœ… Complete |
| `ar` | Arabic | Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© | RTL | âœ… Complete |
| `pt` | Portuguese | PortuguÃªs | LTR | âœ… Complete |
| `bn` | Bengali | à¦¬à¦¾à¦‚à¦²à¦¾ | LTR | âœ… Complete |
| `ru` | Russian | Ğ ÑƒÑÑĞºĞ¸Ğ¹ | LTR | âœ… Complete |
| `ja` | Japanese | æ—¥æœ¬èª | LTR | âœ… Complete |
| `ko` | Korean | í•œêµ­ì–´ | LTR | âœ… Complete |
| `fr` | French | FranÃ§ais | LTR | âœ… Complete |
| `de` | German | Deutsch | LTR | âœ… Complete |
| `it` | Italian | Italiano | LTR | âœ… Complete |
| `tr` | Turkish | TÃ¼rkÃ§e | LTR | âœ… Complete |
| `vi` | Vietnamese | Tiáº¿ng Viá»‡t | LTR | âœ… Complete |
| `th` | Thai | à¹„à¸—à¸¢ | LTR | âœ… Complete |
| `id` | Indonesian | Bahasa Indonesia | LTR | âœ… Complete |
| `fa` | Persian | ÙØ§Ø±Ø³ÛŒ | RTL | âœ… Complete |
| `he` | Hebrew | ×¢×‘×¨×™×ª | RTL | âœ… Complete |

### All Supported Languages by Region

<details>
<summary><b>ğŸ‡ªğŸ‡º Europe (25 languages)</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `en` | English | English |
| `de` | German | Deutsch |
| `fr` | French | FranÃ§ais |
| `es` | Spanish | EspaÃ±ol |
| `it` | Italian | Italiano |
| `pt` | Portuguese | PortuguÃªs |
| `nl` | Dutch | Nederlands |
| `pl` | Polish | Polski |
| `ru` | Russian | Ğ ÑƒÑÑĞºĞ¸Ğ¹ |
| `uk` | Ukrainian | Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° |
| `cs` | Czech | ÄŒeÅ¡tina |
| `sk` | Slovak | SlovenÄina |
| `hu` | Hungarian | Magyar |
| `ro` | Romanian | RomÃ¢nÄƒ |
| `bg` | Bulgarian | Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸ |
| `hr` | Croatian | Hrvatski |
| `sr` | Serbian | Ğ¡Ñ€Ğ¿ÑĞºĞ¸ |
| `sl` | Slovenian | SlovenÅ¡Äina |
| `mk` | Macedonian | ĞœĞ°ĞºĞµĞ´Ğ¾Ğ½ÑĞºĞ¸ |
| `bs` | Bosnian | Bosanski |
| `sq` | Albanian | Shqip |
| `el` | Greek | Î•Î»Î»Î·Î½Î¹ÎºÎ¬ |
| `be` | Belarusian | Ğ‘ĞµĞ»Ğ°Ñ€ÑƒÑĞºĞ°Ñ |
| `ga` | Irish | Gaeilge |
| `cy` | Welsh | Cymraeg |

</details>

<details>
<summary><b>ğŸ‡¯ğŸ‡µ Asia (15 languages)</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `zh-CN` | Chinese (Simplified) | ç®€ä½“ä¸­æ–‡ |
| `zh-TW` | Chinese (Traditional) | ç¹é«”ä¸­æ–‡ |
| `ja` | Japanese | æ—¥æœ¬èª |
| `ko` | Korean | í•œêµ­ì–´ |
| `mn` | Mongolian | ĞœĞ¾Ğ½Ğ³Ğ¾Ğ» |
| `vi` | Vietnamese | Tiáº¿ng Viá»‡t |
| `th` | Thai | à¹„à¸—à¸¢ |
| `id` | Indonesian | Bahasa Indonesia |
| `ms` | Malay | Bahasa Melayu |
| `tl` | Filipino | Tagalog |
| `my` | Burmese | á€™á€¼á€”á€ºá€™á€¬ |
| `km` | Khmer | ááŸ’á˜áŸ‚áš |
| `lo` | Lao | àº¥àº²àº§ |

</details>

<details>
<summary><b>ğŸ‡®ğŸ‡³ South Asia (10 languages)</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `hi` | Hindi | à¤¹à¤¿à¤¨à¥à¤¦à¥€ |
| `bn` | Bengali | à¦¬à¦¾à¦‚à¦²à¦¾ |
| `ta` | Tamil | à®¤à®®à®¿à®´à¯ |
| `te` | Telugu | à°¤à±†à°²à±à°—à± |
| `mr` | Marathi | à¤®à¤°à¤¾à¤ à¥€ |
| `gu` | Gujarati | àª—à«àªœàª°àª¾àª¤à«€ |
| `kn` | Kannada | à²•à²¨à³à²¨à²¡ |
| `ml` | Malayalam | à´®à´²à´¯à´¾à´³à´‚ |
| `pa` | Punjabi | à¨ªà©°à¨œà¨¾à¨¬à©€ |
| `ur` | Urdu | Ø§Ø±Ø¯Ùˆ |
| `si` | Sinhala | à·ƒà·’à¶‚à·„à¶½ |
| `ne` | Nepali | à¤¨à¥‡à¤ªà¤¾à¤²à¥€ |

</details>

<details>
<summary><b>ğŸ‡¸ğŸ‡¦ Middle East (7 languages)</b></summary>

| Code | Language | Native Name | Direction |
|------|----------|-------------|-----------|
| `ar` | Arabic | Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© | RTL |
| `fa` | Persian | ÙØ§Ø±Ø³ÛŒ | RTL |
| `he` | Hebrew | ×¢×‘×¨×™×ª | RTL |
| `tr` | Turkish | TÃ¼rkÃ§e | LTR |
| `ku` | Kurdish | KurdÃ® | RTL |
| `ps` | Pashto | Ù¾ÚšØªÙˆ | RTL |

</details>

<details>
<summary><b>ğŸŒ Africa (15 languages)</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `sw` | Swahili | Kiswahili |
| `am` | Amharic | áŠ áˆ›áˆ­áŠ› |
| `ha` | Hausa | Hausa |
| `yo` | Yoruba | YorÃ¹bÃ¡ |
| `ig` | Igbo | Igbo |
| `zu` | Zulu | isiZulu |
| `xh` | Xhosa | isiXhosa |
| `af` | Afrikaans | Afrikaans |
| `sn` | Shona | chiShona |
| `rw` | Kinyarwanda | Kinyarwanda |
| `so` | Somali | Soomaali |
| `mg` | Malagasy | Malagasy |
| `ny` | Chichewa | Chichewa |
| `lg` | Luganda | Luganda |

</details>

<details>
<summary><b>ğŸŒ Americas (5 languages)</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `en` | English | English |
| `es` | Spanish | EspaÃ±ol |
| `pt` | Portuguese | PortuguÃªs |
| `fr` | French | FranÃ§ais |
| `ht` | Haitian Creole | KreyÃ²l Ayisyen |

</details>

<details>
<summary><b>ğŸï¸ Pacific & Oceania</b></summary>

| Code | Language | Native Name |
|------|----------|-------------|
| `mi` | MÄori | Te Reo MÄori |
| `sm` | Samoan | Gagana Samoa |
| `to` | Tongan | Lea Faka-Tonga |
| `fj` | Fijian | Vosa Vakaviti |

</details>

---

## ğŸ”„ Real-time Translation API

For dynamic content that can't be pre-translated, we provide a real-time translation API.

### Translation Endpoint

```bash
# Translate single text
curl -X POST "https://cryptocurrency.cv/api/translate" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Bitcoin reaches new all-time high",
    "targetLocale": "ja",
    "context": "cryptocurrency news headline"
  }'

# Response
{
  "original": "Bitcoin reaches new all-time high",
  "translation": "ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ãŒå²ä¸Šæœ€é«˜å€¤ã‚’æ›´æ–°",
  "locale": "ja",
  "language": "Japanese"
}
```

### Batch Translation

```bash
# Translate multiple texts at once
curl -X POST "https://cryptocurrency.cv/api/translate" \
  -H "Content-Type: application/json" \
  -d '{
    "texts": [
      "Bitcoin price surges",
      "Ethereum update released",
      "DeFi protocols gain traction"
    ],
    "targetLocale": "ko",
    "context": "cryptocurrency headlines"
  }'

# Response
{
  "translations": [
    "ë¹„íŠ¸ì½”ì¸ ê°€ê²© ê¸‰ë“±",
    "ì´ë”ë¦¬ì›€ ì—…ë°ì´íŠ¸ ì¶œì‹œ",
    "DeFi í”„ë¡œí† ì½œ ì¸ê¸° ìƒìŠ¹"
  ],
  "locale": "ko",
  "language": "Korean",
  "count": 3
}
```

### Supported Features

| Feature | Description |
|---------|-------------|
| **Single Translation** | Translate one text at a time |
| **Batch Translation** | Translate up to 50 texts in one request |
| **Context Awareness** | Provide context for better translations |
| **Caching** | Translations are cached for 1 hour |
| **100+ Languages** | All supported UI languages |

### Translation Libraries

```typescript
// Using the content translation library
import { translateText, translateBatch, translateArticle } from '@/lib/content-translation';

// Single text
const translated = await translateText(
  'Breaking: Bitcoin hits $100k',
  'es'
);

// Batch translation
const headlines = await translateBatch(
  ['Headline 1', 'Headline 2'],
  'fr'
);

// Full article translation
const article = await translateArticle({
  title: 'Bitcoin Analysis',
  description: 'In-depth look at BTC',
  content: 'Full article content...',
}, 'de');
```

---

## ğŸ› ï¸ API Response Translation

All API responses can be translated using the `Accept-Language` header or `lang` query parameter.

### Using Headers

```bash
# Get news in Spanish
curl -H "Accept-Language: es" "https://cryptocurrency.cv/api/news"

# Get market data in Japanese
curl -H "Accept-Language: ja" "https://cryptocurrency.cv/api/markets"
```

### Using Query Parameter

```bash
# Get news in Arabic
curl "https://cryptocurrency.cv/api/news?lang=ar"

# Get AI brief in Korean
curl "https://cryptocurrency.cv/api/ai/brief?lang=ko"
```

### Localized Error Messages

```typescript
import { createLocalizedError, getErrorMessage } from '@/lib/api-translations';

// Returns error in user's language
return createLocalizedError('notFound', locale, 404);

// Get translated message
const msg = getErrorMessage('rateLimited', 'ja');
// Returns: "ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è¶…ãˆã¾ã—ãŸã€‚å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"
```

---

## International News Sources

In addition to UI translations, we aggregate news from **75 native-language crypto news sources** across all 18 supported languages:

### Source Count by Language

| Language | Sources | Notable Outlets |
|----------|---------|-----------------|
| Chinese (zh) | 10 | 8BTC (å·´æ¯”ç‰¹), Jinse Finance (é‡‘è‰²è´¢ç»), Odaily (æ˜Ÿçƒæ—¥æŠ¥), ChainNews, PANews, TechFlow, BlockBeats, MarsBit, Wu Blockchain, Foresight News |
| Korean (ko) | 9 | Block Media, TokenPost, CoinDesk Korea, Decenter, Cobak, The B.Chain, Upbit Blog, Blockchain Today Korea, CryptoQuant Blog |
| Japanese (ja) | 6 | CoinPost, CoinDesk Japan, Cointelegraph Japan, btcnews.jp, Crypto Times Japan, CoinJinja |
| Portuguese (pt) | 5 | Cointelegraph Brasil, Livecoins, Portal do Bitcoin, BeInCrypto Brasil, Bitcoin Block |
| Hindi (hi) | 5 | CoinSwitch, CoinDCX, WazirX, ZebPay, Crypto News India |
| Spanish (es) | 5 | Cointelegraph EspaÃ±ol, Diario Bitcoin, CriptoNoticias, BeInCrypto EspaÃ±ol, Bitcoiner Today |
| German (de) | 4 | BTC-ECHO, Cointelegraph Deutsch, Coincierge, CryptoMonday |
| French (fr) | 4 | Journal du Coin, Cryptonaute, Cointelegraph France, Cryptoast |
| Persian (fa) | 4 | Arz Digital (Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„), Mihan Blockchain, Ramz Arz, Nobitex |
| Turkish (tr) | 3 | Cointelegraph TÃ¼rkÃ§e, Koin Medya, Coinsider |
| Russian (ru) | 3 | ForkLog, Cointelegraph Russia, Bits.Media |
| Italian (it) | 3 | Cointelegraph Italia, The Cryptonomist, Criptovalute.it |
| Indonesian (id) | 3 | Cointelegraph Indonesia, Blockchain Media, Pintu Academy |
| Vietnamese (vi) | 2 | Táº¡p chÃ­ Bitcoin, Coin68 |
| Thai (th) | 2 | Siam Blockchain, Bitcoin Addict Thailand |
| Polish (pl) | 2 | Kryptowaluty.pl, Bitcoin.pl |
| Dutch (nl) | 2 | Bitcoin Magazine NL, Crypto Insiders |
| Arabic (ar) | 2 | Cointelegraph Arabic, ArabiCrypto |

### Regional Coverage

| Region | Languages | Total Sources |
|--------|-----------|---------------|
| Asia | Korean, Chinese, Japanese, Hindi | 30 |
| Europe | German, French, Russian, Turkish, Italian, Dutch, Polish | 23 |
| Latin America | Spanish, Portuguese | 10 |
| Southeast Asia | Indonesian, Vietnamese, Thai | 7 |
| MENA | Arabic, Persian | 6 |

### Using International Sources

```bash
# Get all international news
curl "https://cryptocurrency.cv/api/news/international"

# Get Korean news with English translation
curl "https://cryptocurrency.cv/api/news/international?language=ko&translate=true"

# Get Asian region news
curl "https://cryptocurrency.cv/api/news/international?region=asia&limit=20"

# Get European news without translation
curl "https://cryptocurrency.cv/api/news/international?region=europe"
```

See [API.md](/docs/API.md#get-apinewsinternational) for full endpoint documentation.

---

## URL Structure

### Web App Routes

The web app uses locale-prefixed URLs:

| Locale | URL Pattern | Example |
|--------|-------------|---------|
| English (default) | `/` or `/en/` | `https://freecryptonews.app/` |
| Spanish | `/es/` | `https://freecryptonews.app/es/` |
| Japanese | `/ja/` | `https://freecryptonews.app/ja/` |
| Arabic (RTL) | `/ar/` | `https://freecryptonews.app/ar/` |

### Examples

```
https://freecryptonews.app/          # English (default)
https://freecryptonews.app/es/       # Spanish home
https://freecryptonews.app/ja/news   # Japanese news page
https://freecryptonews.app/ar/about  # Arabic about page (RTL)
```

---

## API Translation

The API supports response translation via the `lang` parameter:

### Basic Usage

```bash
# Get news in Spanish
curl "https://cryptocurrency.cv/api/news?lang=es"

# Get news in Japanese
curl "https://cryptocurrency.cv/api/news?lang=ja"

# Get news in Arabic
curl "https://cryptocurrency.cv/api/news?lang=ar"
```

### Response Format

```json
{
  "articles": [
    {
      "title": "Bitcoin alcanza nuevo mÃ¡ximo histÃ³rico",
      "description": "El precio de Bitcoin superÃ³ los $100,000...",
      "source": "CoinDesk",
      "pubDate": "2026-01-23T12:00:00Z"
    }
  ],
  "lang": "es",
  "availableLanguages": ["en", "es", "fr", "de", "pt", "ja", "zh-CN", "zh-TW", "ko", "ar", "ru", "it", "nl", "pl", "tr", "vi", "th", "id"]
}
```

### Endpoints Supporting Translation

| Endpoint | Translation Support |
|----------|---------------------|
| `/api/news` | âœ… Full |
| `/api/breaking` | âœ… Full |
| `/api/defi` | âœ… Full |
| `/api/bitcoin` | âœ… Full |
| `/api/search` | âœ… Full |
| `/api/digest` | âœ… Full |
| `/api/archive` | âœ… Full |
| `/api/archive/v2` | âœ… Redirect to /api/archive |

### Translation Requirements

- **API Key**: Requires `GROQ_API_KEY` environment variable (FREE at [console.groq.com](https://console.groq.com/keys))
- **Feature Flag**: Set `FEATURE_TRANSLATION=true` for real-time translation
- **Fallback**: Returns English if translation fails

---

## For Developers

### Project Structure

```
free-crypto-news/
â”œâ”€â”€ messages/                    # UI translation files
â”‚   â”œâ”€â”€ en.json                 # English (base)
â”‚   â”œâ”€â”€ es.json                 # Spanish
â”‚   â”œâ”€â”€ fr.json                 # French
â”‚   â”œâ”€â”€ de.json                 # German
â”‚   â”œâ”€â”€ ja.json                 # Japanese
â”‚   â”œâ”€â”€ zh-CN.json              # Chinese Simplified
â”‚   â”œâ”€â”€ zh-TW.json              # Chinese Traditional
â”‚   â”œâ”€â”€ ko.json                 # Korean
â”‚   â”œâ”€â”€ ar.json                 # Arabic (RTL)
â”‚   â”œâ”€â”€ ru.json                 # Russian
â”‚   â”œâ”€â”€ it.json                 # Italian
â”‚   â”œâ”€â”€ nl.json                 # Dutch
â”‚   â”œâ”€â”€ pl.json                 # Polish
â”‚   â”œâ”€â”€ tr.json                 # Turkish
â”‚   â”œâ”€â”€ vi.json                 # Vietnamese
â”‚   â”œâ”€â”€ th.json                 # Thai
â”‚   â””â”€â”€ id.json                 # Indonesian
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ i18n/                   # i18n configuration
â”‚   â”‚   â”œâ”€â”€ config.ts           # Locale configuration
â”‚   â”‚   â”œâ”€â”€ request.ts          # next-intl request config
â”‚   â”‚   â”œâ”€â”€ navigation.ts       # i18n-aware navigation
â”‚   â”‚   â””â”€â”€ index.ts            # Exports
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ translate.ts        # API translation service
â”‚   â”‚   â””â”€â”€ source-translator.ts # International source translator
â”‚   â””â”€â”€ middleware.ts           # Locale detection middleware
â”œâ”€â”€ scripts/i18n/               # Translation scripts
â”‚   â”œâ”€â”€ translate.js            # Auto-translate documentation
â”‚   â””â”€â”€ validate.js             # Validate translation files
â”œâ”€â”€ README.md                   # English README
â”œâ”€â”€ README.es.md                # Spanish README
â”œâ”€â”€ README.ja.md                # Japanese README
â””â”€â”€ ...                         # Other language READMEs
```

### Using Translations in Components

#### Client Components

```typescript
'use client';

import { useTranslations } from 'next-intl';

export function NewsCard() {
  const t = useTranslations('news');
  
  return (
    <article>
      <h2>{t('latestNews')}</h2>
      <button>{t('readMore')}</button>
    </article>
  );
}
```

#### Server Components

```typescript
import { getTranslations } from 'next-intl/server';

export default async function NewsPage() {
  const t = await getTranslations('news');
  
  return (
    <main>
      <h1>{t('title')}</h1>
    </main>
  );
}
```

#### Multiple Namespaces

```typescript
import { useTranslations } from 'next-intl';

export function Header() {
  const tCommon = useTranslations('common');
  const tNav = useTranslations('nav');
  
  return (
    <header>
      <span>{tCommon('appName')}</span>
      <nav>
        <a href="/">{tNav('home')}</a>
        <a href="/news">{tNav('news')}</a>
      </nav>
    </header>
  );
}
```

### Interpolation

Translation files support interpolation with `{variable}` syntax:

**messages/en.json:**
```json
{
  "greeting": "Hello, {name}!",
  "articles": "{count} articles found",
  "publishedAt": "Published {time}"
}
```

**Usage:**
```typescript
t('greeting', { name: 'World' })     // "Hello, World!"
t('articles', { count: 42 })         // "42 articles found"
t('publishedAt', { time: '2h ago' }) // "Published 2h ago"
```

### Pluralization

```json
{
  "article": "{count, plural, =0 {No articles} =1 {1 article} other {# articles}}"
}
```

```typescript
t('article', { count: 0 })  // "No articles"
t('article', { count: 1 })  // "1 article"
t('article', { count: 5 })  // "5 articles"
```

### Date/Time Formatting

```typescript
import { useFormatter } from 'next-intl';

function ArticleDate({ date }) {
  const format = useFormatter();
  
  return (
    <time dateTime={date.toISOString()}>
      {format.relativeTime(date)}
    </time>
  );
}
```

### i18n-Aware Navigation

Use the i18n navigation components instead of Next.js defaults:

```typescript
// âŒ Don't use
import Link from 'next/link';
import { useRouter } from 'next/navigation';

// âœ… Use
import { Link, useRouter, usePathname } from '@/i18n/navigation';
```

This ensures links automatically include the current locale prefix.

### Adding RTL Support

Arabic is an RTL (right-to-left) language. The layout handles this automatically:

```typescript
// src/app/[locale]/layout.tsx
import { useLocale } from 'next-intl';

export default function Layout({ children }) {
  const locale = useLocale();
  const isRTL = locale === 'ar';
  
  return (
    <html lang={locale} dir={isRTL ? 'rtl' : 'ltr'}>
      <body className={isRTL ? 'rtl' : 'ltr'}>
        {children}
      </body>
    </html>
  );
}
```

CSS considerations for RTL:

```css
/* Use logical properties */
.card {
  margin-inline-start: 1rem;  /* Instead of margin-left */
  padding-inline-end: 1rem;   /* Instead of padding-right */
}

/* Tailwind CSS RTL utilities */
<div className="ms-4 me-2">  /* margin-start, margin-end */
```

---

## Adding New Translations

### Step 1: Add strings to en.json

```json
{
  "myFeature": {
    "title": "My New Feature",
    "description": "This is a new feature",
    "button": "Click me"
  }
}
```

### Step 2: Add to all other locale files

Add the same keys with translated values to all 17 other files.

### Step 3: Use in components

```typescript
const t = useTranslations('myFeature');
return <h1>{t('title')}</h1>;
```

### Step 4: Run validation

```bash
npm run i18n:validate
```

---

## Translation Scripts

### Validate Translations

Check all translation files for completeness and consistency:

```bash
npm run i18n:validate
```

This checks:
- All locale files exist
- All keys match the English base file
- No extra/missing keys
- Interpolation placeholders preserved
- Valid JSON syntax

### Auto-Translate Documentation

Translate README and documentation files:

```bash
# Translate all files
npm run i18n:translate

# Translate specific file
node scripts/i18n/translate.js --file README.md

# Translate to specific language
node scripts/i18n/translate.js --lang ja
```

Requires `OPENAI_API_KEY` environment variable.

---

## Testing

### Unit Tests

```bash
npm run test:i18n
```

Tests:
- All locale files exist
- Key consistency across locales
- Interpolation placeholder preservation
- JSON validity

### E2E Tests

```bash
npm run e2e:i18n
```

Tests:
- Locale routing works
- Language switcher functions
- RTL support for Arabic
- Translated content renders
- SEO attributes correct

---

## Contributing Translations

We welcome translation contributions! Here's how:

### 1. Fork the Repository

```bash
git clone https://github.com/nirholas/free-crypto-news.git
cd free-crypto-news
```

### 2. Edit Translation Files

Edit files in the `messages/` directory. Each file is a JSON object with namespaced translations.

### 3. Translation Guidelines

- **Keep it natural**: Use fluent, natural language for the target locale
- **Preserve placeholders**: Keep `{variable}` syntax unchanged
- **Technical terms**: Keep these in English when appropriate:
  - API, JSON, SDK, HTTP, URL
  - Bitcoin, Ethereum (cryptocurrency names)
  - DeFi, NFT, TVL (crypto acronyms)
  - GitHub, Twitter, Discord (brand names)
- **Match tone**: Keep the same informal but professional tone as English
- **Test RTL**: For Arabic, ensure layout works correctly

### 4. Validate Your Changes

```bash
npm run i18n:validate
```

### 5. Submit a Pull Request

Create a PR with your translation improvements. Include:
- Which locale(s) you updated
- Summary of changes
- Any context for translation decisions

---

## Environment Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `GROQ_API_KEY` | For API translation | Free API key from [console.groq.com](https://console.groq.com/keys) |
| `FEATURE_TRANSLATION` | No | Set to `true` to enable real-time API translation |
| `OPENAI_API_KEY` | For doc translation | Required for `npm run i18n:translate` script |

---

## Locale Detection

The middleware automatically detects the user's preferred language:

1. **URL path**: `/es/` â†’ Spanish
2. **Cookie**: `NEXT_LOCALE` cookie value
3. **Accept-Language header**: Browser preference
4. **Default**: Falls back to English

---

## FAQ

### How do I change the default language?

Edit `src/i18n/config.ts`:

```typescript
export const defaultLocale = 'es'; // Change from 'en'
```

### How do I add a new language?

1. Add locale code to `src/i18n/config.ts`
2. Create `messages/{locale}.json` with all translations
3. Create `README.{locale}.md` (optional)
4. Run validation: `npm run i18n:validate`

### Why isn't translation working on the API?

1. Check `GROQ_API_KEY` is set
2. Check `FEATURE_TRANSLATION=true` is set
3. Check the `lang` parameter is a supported locale

### How do I handle missing translations?

The system falls back to English if a translation is missing. To find missing keys:

```bash
npm run i18n:validate
```

---

## Resources

- [next-intl Documentation](https://next-intl-docs.vercel.app/)
- [BCP 47 Language Tags](https://www.w3.org/International/articles/language-tags/)
- [RTL Styling Guide](https://rtlstyling.com/)
- [ICU Message Format](https://unicode-org.github.io/icu/userguide/format_parse/messages/)
